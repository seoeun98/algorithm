# 트리 (Tree)

## 개요

### 정의 및 특징

- 상위 원소에서 하위 원소로 내려가면서 확장되는 나무(Tree) 형태의 자료구조
- 원소들 간에 계층 관계를 가짐
- 비선형 구조를 가짐
    - 선형(Linear) 구조: 자료를 구성하는 데이터를 순차적으로 나열하는 자료구조
    - 비선형(Non-linear) 구조: 하나의 자료 뒤(안)에 여러 개의 데이터가 존재할 수 있는 자료구조
        - 대표적으로 트리와 [그래프](%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%91%E1%85%B3%20(Graph)%2008874735f84d41ac9f98fa379655891e.md) 등이 있음
- 원소들 간의 관계가 `1:n`
    - 참고: 그래프는 원소들 간의 관계가 `n:n`

### 트리 vs. 그래프

- 트리는 그래프의 부분 집합 (즉, 그래프의 일종)

|  | 트리 | 그래프 |
| --- | --- | --- |
| 원소들 간의 관계 | 1:n | n:n |
| 방향성 | 방향이 있음 | 방향, 무방향 모두 존재 |
| 사이클 여부 | X | O, X |
| 루트 노드 존재 여부 | O | X |
| 부모-자식 관계 존재 여부 | O (루트 노드 제외) | X |
| 모델 | 계층 모델 | 네트워크 모델 |
| 간선 개수 | n-1 (n개의 노드가 있을 때) | 0 혹은 무제한 |
| 두 노드 간 경로 개수 | 1 | 0 혹은 무제한 |
| 검색 방법 | 전위, 중위, 후위 순회 (DFS, BFS 기반) | DFS, BFS |

## 용어 정리

### 노드 (Node)

- 트리의 원소 (구성요소)
- 트리는 한 개 이상의 노드로 이루어짐
- 루트 (Root): 노드 중 최상위 노드
- 서브 트리 (Subtree, 부 트리): 루트 노드를 제외한 나머지 노드들의 부분 집합
    - 각각 하나의 트리를 이룸
    - 즉, 부모 노드와 연결된 간선을 끊었을 때 생성되는 트리
- 형제 노드: 같은 부모 노드의 자식 노드들
- 조상 노드: 간선을 따라 루트 노드까지 이르는 경로에 있는 모든 노드들
- 자손 노드: 서브 트리에 있는 하위 레벨의 노드들

### 간선 (Edge)

- 노드와 노드를 연결하는 선
- 부모 노드와 자식 노드를 연결

### 차수 (Degree)

- 노드의 차수: 노드에 연결된 자식 노드의 수 (자식 노드로의 간선 수)
    - 단말 노드 (리프 노드, Leaf node): 차수가 `0`인 노드, 즉 자식 노드가 없는 말단 노드
- 트리의 차수: 트리에 있는 노드의 차수 중 가장 큰 값

### 높이 (Length, Depth, Level)

- 노드의 높이: 루트에서 노드에 이르는 간선의 수
    - 루트 노드의 레벨(높이)은 `0`
- 트리의 높이: 트리에 있는 노드의 높이 중 가장 큰 값 (최대 레벨)

### 순회 (Traversal)

- 트리의 노드들을 체계적으로 방문하는 것
- 부모 노드의 방문 순서에 따라 전위 순회, 중위 순회, 후위 순회로 구분
- 자세한 내용은 [트리 순회](%E1%84%8B%E1%85%B5%E1%84%8C%E1%85%B5%E1%86%AB%20%E1%84%90%E1%85%B3%E1%84%85%E1%85%B5%20%E1%84%89%E1%85%AE%E1%86%AB%E1%84%92%E1%85%AC%20(Binary%20tree%20traversal)%20c950fa346f7a4a88855884e7ec1ffe20.md) 페이지 참조

## 이진 트리 (Binary tree)

### 개요

- 차수가 `2`인 트리
- 각 노드가 자식 노드를 최대한 2개까지만 가질 수 있는 트리
    - 왼쪽(`left`) 자식과 오른쪽(`right`) 자식을 가질 수 있음
        
        ```java
        class Node {
        		private int value;
        		private Node left;
        		private Node right;
        
        		public Node(int value, Node left, Node right) {
        				this.value = value;
        				this.left = left;
        				this.right = right;
        		}
        }
        ```
        
- 모든 노드들이 최대 2개의 서브 트리를 갖는 특별한 형태의 트리
- 배열 표현이 쉽다는 장점이 있음

### 특성

- 높이(레벨) `h`에서 노드의 최대 개수는 `2`개
- 높이 `h`에서 이진 트리가 가질 수 있는 노드의 최소 개수는 `h+1`개, 최대 개수는 `2^(h+1)-1`개
- ex: 높이가 `3`일 때, 노드의 최소 개수는 `4`개, 최대 개수는 `15`개

### 포화 이진 트리 (Full binary tree)

- 모든 레벨에 노드가 포화 상태로 차 있는 이진 트리
- 높이가 `h`일 때, 최대 노드 개수인 `2^(h+1)-1`개의 노드를 소유
- 루트를 `1`번으로 하여 `2^(h+1)-1`까지 정해진 위치에 대한 노드 번호를 가짐

### 완전 이진 트리 (Complete binary tree)

- 높이가 `h`이고 노드 수가 `n`일 때, 포화 이진 트리의 노드 번호 `1`번부터 `n`번까지 빈 자리가 없는 이진 트리
    - 단, `h+1` ≤ `n` < `2^(h+1)-1`

### 정 이진 트리 (Full binary tree)

- 모든 노드가 `0`개 혹은 `2`개의 자식 노드를 갖는 트리

### 편향 이진 트리 (Skewed binary tree)

- 높이 `h`에 대한 최소 개수의 노드를 가지면서 한쪽 방향의 자식 노드만 가진 이진 트리
    - 왼쪽 편향 이진 트리, 오른쪽 편향 이진 트리
- 사실상 연결 리스트와 동일

### 배열을 이용한 이진 트리의 표현

- 이진 트리에 각 노드 번호를 다음과 같이 부여
    - 루트의 번호는 `1`
        - 즉, 배열로 표현할 때 인덱스를 `1`부터 시작 (1-based index)
        - `0`으로 하지 않는 이유는 계산이 불편하기 때문
    - 레벨 `n`에 있는 노드에 대해 왼쪽부터 오른쪽으로 `2^n`부터 `2^(n+1)-1`까지 번호를 차례로 부여
- 노드 번호의 성질
    - 번호가 `i`인 노드의 부모 노드 번호: `i/2`
    - 번호가 `i`인 노드의 왼쪽 자식 노드 번호: `i*2`
    - 번호가 `i`인 노드의 오른쪽 자식 노드 번호: `i*2+1`
    - 레벨 `n`의 노드 시작 번호: `2^n`
- 높이가 `h`인 이진 트리를 위한 배열의 크기
    - 레벨 `i`의 최대 노드 수: `2^n`
    - 모든 노드의 수: `2^(h+1)-1`
    - 배열의 크기: `2^(h+1)`
        - `0`번 인덱스는 사용하지 않기 때문
- 배열 표현 시 단점
    - 편향 이진 트리의 경우, 사용하지 않는 배열 원소에 대한 메모리 공간 낭비 발생
    - 트리의 중간에 새로운 노드를 삽입하거나 기존의 노드를 삭제할 경우 배열의 크기 변경이 어려우므로 비효율적