# ìš°ì„ ìˆœìœ„ í - ìµœì†Œí™, ìµœëŒ€í™

## ê°œë…

### ì •ì˜

- ìµœëŒ“ê°’ì´ë‚˜ ìµœì†Ÿê°’ì„ ì°¾ì•„ë‚´ëŠ” ì—°ì‚°ì„ ë¹ ë¥´ê²Œ í•˜ê¸° ìœ„í•´ ê³ ì•ˆëœ ì™„ì „ ì´ì§„ íŠ¸ë¦¬ë¥¼ ê¸°ë³¸ìœ¼ë¡œ í•œ ìë£Œêµ¬ì¡°

### ì¢…ë¥˜

- ìµœëŒ€í™(max heap)
    - í‚¤ ê°’ì´ ê°€ì¥ í° ë…¸ë“œë¥¼ ì°¾ê¸° ìœ„í•œ ì™„ì „ ì´ì§„ íŠ¸ë¦¬
    - ë¶€ëª¨ ë…¸ë“œì˜ í‚¤ ê°’ > ìì‹ ë…¸ë“œì˜ í‚¤ ê°’
    - ğŸ‘‰ ë£¨íŠ¸ ë…¸ë“œ: í‚¤ ê°’ì´ ê°€ì¥ í° ë…¸ë“œ
- ìµœì†Œí™(min heap)
    - í‚¤ ê°’ì´ ê°€ì¥ ì‘ì€ ë…¸ë“œë¥¼ ì°¾ê¸° ìœ„í•œ ì™„ì „ ì´ì§„ íŠ¸ë¦¬
    - ë¶€ëª¨ ë…¸ë“œì˜ í‚¤ ê°’ < ìì‹ ë…¸ë“œì˜ í‚¤ ê°’
    - ğŸ‘‰ ë£¨íŠ¸ ë…¸ë“œ: í‚¤ ê°’ì´ ê°€ì¥ ì‘ì€ ë…¸ë“œ

### ì—°ì‚°

- ì‚½ì…
    - í™ì— ì›ì†Œë¥¼ ì‚½ì…í•˜ê³  í™ì˜ ì†ì„±ì„ ë§Œì¡±í•˜ë„ë¡ ë³€ê²½
    - ìˆœì„œ (ìµœì†Œí™)
        1. ë‹¤ìŒ ìë¦¬ì— ì›ì†Œ ì‚½ì…
        2. ë¶€ëª¨ ë…¸ë“œê°€ ì—†ì„ ë•Œê¹Œì§€ ë°˜ë³µ
            1. ë¶€ëª¨ê°€ ì‚½ì…ëœ ì›ì†Œë³´ë‹¤ í¬ë©´ ë¶€ëª¨ë…¸ë“œì™€ ì‚½ì…ë…¸ë“œì˜ ìë¦¬ ë³€ê²½
    - ì‹œê°„ë³µì¡ë„: `O(logn)`
- ì‚­ì œ
    - ë£¨íŠ¸ë…¸ë“œì˜ ì›ì†Œë¥¼ ì‚­ì œí•˜ì—¬ ë°˜í™˜
    - í™ì˜ ì¢…ë¥˜ì— ë”°ë¼ ìµœëŒ“ê°’ ë˜ëŠ” ìµœì†Ÿê°’ ë°˜í™˜
    - ìˆœì„œ (ìµœì†Œí™)
        1. ë£¨íŠ¸ ë…¸ë“œì˜ ê°’ì— ë§ˆì§€ë§‰ ë…¸ë“œ ê°’ ì‚½ì…í•˜ê³  ë§ˆì§€ë§‰ ë…¸ë“œ ì‚­ì œ
        2. ìì‹ ë…¸ë“œê°€ í•˜ë‚˜ë„ ì—†ì„ ë•Œê¹Œì§€ ë°˜ë³µ
            1. ì‚½ì…í•œ ë…¸ë“œê°€ ìì‹ë…¸ë“œ ì¤‘ ì‘ì€ ê°’ë³´ë‹¤ í¬ë©´ í•´ë‹¹ ìì‹ë…¸ë“œì™€ ì‚½ì…ë…¸ë“œì˜ ìë¦¬ ë³€ê²½ 
    - ì‹œê°„ë³µì¡ë„: `O(logn)`

## ì˜ˆì‹œ (MinHeap)

- ì‚½ì…
    - ì´ˆê¸°ìƒíƒœ
        
        ![ì²˜ìŒ.png](%E1%84%8B%E1%85%AE%E1%84%89%E1%85%A5%E1%86%AB%E1%84%89%E1%85%AE%E1%86%AB%E1%84%8B%E1%85%B1%20%E1%84%8F%E1%85%B2%20-%20%E1%84%8E%E1%85%AC%E1%84%89%E1%85%A9%E1%84%92%E1%85%B5%E1%86%B8,%20%E1%84%8E%E1%85%AC%E1%84%83%E1%85%A2%E1%84%92%E1%85%B5%E1%86%B8%202140bbec125349d885066f90e5525604/%EC%B2%98%EC%9D%8C.png)
        
    - 1 ì‚½ì…
        
        ![2.png](%E1%84%8B%E1%85%AE%E1%84%89%E1%85%A5%E1%86%AB%E1%84%89%E1%85%AE%E1%86%AB%E1%84%8B%E1%85%B1%20%E1%84%8F%E1%85%B2%20-%20%E1%84%8E%E1%85%AC%E1%84%89%E1%85%A9%E1%84%92%E1%85%B5%E1%86%B8,%20%E1%84%8E%E1%85%AC%E1%84%83%E1%85%A2%E1%84%92%E1%85%B5%E1%86%B8%202140bbec125349d885066f90e5525604/2.png)
        
    - ë¶€ëª¨ ë…¸ë“œ 5ì™€ ë¹„êµ, ë¶€ëª¨ê°€ ë” í¬ê¸° ë•Œë¬¸ì— ìë¦¬ ë³€ê²½
        
        ![3.png](%E1%84%8B%E1%85%AE%E1%84%89%E1%85%A5%E1%86%AB%E1%84%89%E1%85%AE%E1%86%AB%E1%84%8B%E1%85%B1%20%E1%84%8F%E1%85%B2%20-%20%E1%84%8E%E1%85%AC%E1%84%89%E1%85%A9%E1%84%92%E1%85%B5%E1%86%B8,%20%E1%84%8E%E1%85%AC%E1%84%83%E1%85%A2%E1%84%92%E1%85%B5%E1%86%B8%202140bbec125349d885066f90e5525604/3.png)
        
    - ë¶€ëª¨ë…¸ë“œ 2ì™€ ë¹„êµ, ë¶€ëª¨ê°€ ë” í¬ê¸° ë•Œë¬¸ì— ìë¦¬ ë³€ê²½
        
        ![4.png](%E1%84%8B%E1%85%AE%E1%84%89%E1%85%A5%E1%86%AB%E1%84%89%E1%85%AE%E1%86%AB%E1%84%8B%E1%85%B1%20%E1%84%8F%E1%85%B2%20-%20%E1%84%8E%E1%85%AC%E1%84%89%E1%85%A9%E1%84%92%E1%85%B5%E1%86%B8,%20%E1%84%8E%E1%85%AC%E1%84%83%E1%85%A2%E1%84%92%E1%85%B5%E1%86%B8%202140bbec125349d885066f90e5525604/4.png)
        
- ì‚­ì œ
    - ì´ˆê¸°ìƒíƒœ
        
        ![ì‚­ì œ0.png](%E1%84%8B%E1%85%AE%E1%84%89%E1%85%A5%E1%86%AB%E1%84%89%E1%85%AE%E1%86%AB%E1%84%8B%E1%85%B1%20%E1%84%8F%E1%85%B2%20-%20%E1%84%8E%E1%85%AC%E1%84%89%E1%85%A9%E1%84%92%E1%85%B5%E1%86%B8,%20%E1%84%8E%E1%85%AC%E1%84%83%E1%85%A2%E1%84%92%E1%85%B5%E1%86%B8%202140bbec125349d885066f90e5525604/%EC%82%AD%EC%A0%9C0.png)
        
    - ë£¨íŠ¸ ë…¸ë“œì˜ ê°’ì„ ì‚­ì œí•˜ê³  ë§ˆì§€ë§‰ ë…¸ë“œì¸ 5ë¥¼ ë£¨íŠ¸ì— ì‚½ì…
        
        ![ì‚­ì œ01.png](%E1%84%8B%E1%85%AE%E1%84%89%E1%85%A5%E1%86%AB%E1%84%89%E1%85%AE%E1%86%AB%E1%84%8B%E1%85%B1%20%E1%84%8F%E1%85%B2%20-%20%E1%84%8E%E1%85%AC%E1%84%89%E1%85%A9%E1%84%92%E1%85%B5%E1%86%B8,%20%E1%84%8E%E1%85%AC%E1%84%83%E1%85%A2%E1%84%92%E1%85%B5%E1%86%B8%202140bbec125349d885066f90e5525604/%EC%82%AD%EC%A0%9C01.png)
        
    - ìì‹ ë…¸ë“œ ì¤‘ ì‘ì€ ê°’ì¸ 2ì™€ ë¹„êµ, ìì‹ ë…¸ë“œê°€ ë” ì‘ê¸° ë•Œë¬¸ì— ìë¦¬ ë³€ê²½
        
        ![ì‚­ì œ1.png](%E1%84%8B%E1%85%AE%E1%84%89%E1%85%A5%E1%86%AB%E1%84%89%E1%85%AE%E1%86%AB%E1%84%8B%E1%85%B1%20%E1%84%8F%E1%85%B2%20-%20%E1%84%8E%E1%85%AC%E1%84%89%E1%85%A9%E1%84%92%E1%85%B5%E1%86%B8,%20%E1%84%8E%E1%85%AC%E1%84%83%E1%85%A2%E1%84%92%E1%85%B5%E1%86%B8%202140bbec125349d885066f90e5525604/%EC%82%AD%EC%A0%9C1.png)
        
    - ìì‹ ë…¸ë“œì¸ 7ì´ ë” í¬ê¸° ë•Œë¬¸ì— ìë¦¬ ë³€ê²½ X
        
        ![ì‚­ì œ2.png](%E1%84%8B%E1%85%AE%E1%84%89%E1%85%A5%E1%86%AB%E1%84%89%E1%85%AE%E1%86%AB%E1%84%8B%E1%85%B1%20%E1%84%8F%E1%85%B2%20-%20%E1%84%8E%E1%85%AC%E1%84%89%E1%85%A9%E1%84%92%E1%85%B5%E1%86%B8,%20%E1%84%8E%E1%85%AC%E1%84%83%E1%85%A2%E1%84%92%E1%85%B5%E1%86%B8%202140bbec125349d885066f90e5525604/%EC%82%AD%EC%A0%9C2.png)
        

## êµ¬í˜„

- ì¬ê·€í•¨ìˆ˜ë¡œ êµ¬í˜„ (min heap)
    
    ```java
    class Minheap{
    	final int MAX = 100001;
    	int[] arr = new int[MAX];
    	int lastIdx = 0;
    	
    	void offer(int d) {
    		arr[++lastIdx] = d;
    		
    		arrangeUp(lastIdx);
    	}
    	
    	private void arrangeUp(int idx) {
    		int idx2 = idx/2;
    		if(idx2==0) return;
    		
    		if(arr[idx2] > arr[idx]) swap(idx, idx2);
    		arrangeUp(idx2);
    	}
    
    	private void swap(int idx, int idx2) {
    		int t = arr[idx];
    		arr[idx] = arr[idx2];
    		arr[idx2] = t;
    	}
    
    	int poll() {
    		if(lastIdx==0) return 0;
    		int ret = arr[1];
    		
    		arr[1] = arr[lastIdx];
    		arr[lastIdx--] = 0;
    		
    		arrangeDown(1);
    		
    		return ret;
    	}
    
    	private void arrangeDown(int i) {
    		if(i>=lastIdx) return;
    		
    		int l = i*2, r = i*2+1;
    		if(r<=lastIdx) {
    			if(arr[l] < arr[r]) {
    				if(arr[l] < arr[i]) {
    					swap(l, i);
    					arrangeDown(l);
    				}
    			}else {
    				if(arr[r] < arr[i]) {
    					swap(r, i);
    					arrangeDown(r);
    				}
    			}
    		}else if(l<=lastIdx) {
    			if(arr[l] < arr[i]) swap(l, i);
    		}
    	}
    
    }
    ```
    
- ë°˜ë³µë¬¸ìœ¼ë¡œ êµ¬í˜„ (max heap)
    
    ```java
    class Maxheap{
    		static final int MAX = 100001;
    		int[] arr = new int[MAX];
    		int lastIdx = 0;
    		
    		void offer(int x) {
    			arr[++lastIdx] = x;
    			
    			int i = lastIdx;
    			while(i>1) {
    				if(arr[i/2] < arr[i]) {
    					swap(i/2, i);
    					i /= 2;
    				}
    				else break;
    			}
    		}
    		
    		int poll() {
    			if(lastIdx==0) return 0;
    			int ret = arr[1];
    			
    			arr[1] = arr[lastIdx--];
    			int i = 1;
    			while(i*2<=lastIdx) {
    				int l = i*2;
    				int r = i*2+1;
    				
    				if(r<=lastIdx && arr[l]<arr[r]) {
    					if(arr[r] > arr[i]) {
    						swap(r, i);
    						i = i * 2 + 1;
    					}else break;
    				}
    				else {
    					if(arr[l] > arr[i]) {
    						swap(l, i);
    						i *= 2;
    					}else break;
    				}
    			}
    			
    			return ret;
    		}
    
    		private void swap(int i, int j) {
    			int t = arr[i];
    			arr[i] = arr[j];
    			arr[j] = t;
    		}
    		
    	}
    ```
    

## JAVA API

### PriorityQueue

- java.util.PriorityQueue
- ì‚¬ìš©ë²•
    - `PriorityQueue<íƒ€ì…> priorityQueue = new PriorityQueue<>();`
    - íƒ€ì…ì€ Comparable interfaceì„ êµ¬í˜„í•˜ê³  ìˆê±°ë‚˜ ìƒì„±ìì˜ ì¸ìë¡œ Comparatorë¥¼ ì „ë‹¬í•´ì£¼ì–´ì•¼ í•œë‹¤.
    - Comparableì„ êµ¬í˜„í•˜ê³  ìˆì–´ë„ ìƒì„±ìì˜ ì¸ìë¡œ Comparatorì„ ì „ë‹¬í•´ ì¤„ ìˆ˜ ìˆë‹¤.

```java
// ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬
PriorityQueue<Integer> pq = new PriorityQueue<>();

// ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬
PriorityQueue<Integer> pq = new PriorityQueue<>(Collections.reverseOrder());

// Comparableì„ êµ¬í˜„í•˜ì§€ ì•Šì€ íƒ€ì…ìœ¼ë¡œ ë§Œë“¤ê¸°
PriorityQueue<int[]> pq = new PriorityQueue<>(new Comparator<int[]>() {
	@Override
	public int compare(int[] o1, int[] o2) {
		return o1[0] - o2[0];
	}
});

// Comparableì„ êµ¬í˜„í•˜ì§€ ì•Šì€ íƒ€ì…ìœ¼ë¡œ ë§Œë“¤ê¸° (ëŒë‹¤í‘œí˜„ì‹ ì‚¬ìš©)
PriorityQueue<int[]> pq = new PriorityQueue<>((a, b)->a[0] - b[0]);
```